<!--pages/leaderboard/leaderboard.wxml-->
<view class="wrap">
  <view class="header">
    <text class="title">榜单</text>
  </view>

  <view class="tabs">
    <view class="tab {{tab==='scorers'?'active':''}}" data-tab="scorers" bindtap="switchTab">射手榜</view>
    <view class="tab {{tab==='assisters'?'active':''}}" data-tab="assisters" bindtap="switchTab">助攻榜</view>
    <view class="tab {{tab==='mvp'?'active':''}}" data-tab="mvp" bindtap="switchTab">MVP榜</view>
    <view class="tab {{tab==='red'?'active':''}}" data-tab="red" bindtap="switchTab">红牌榜</view>
  </view>

  <!-- 表头 -->
  <view class="row head">
    <text class="c rank">排名</text>
    <text class="c name">球员</text>
    <text class="c team">队伍</text>

    <!-- 主指标列 -->
    <text class="c num">
      {{tab==='scorers' ? '进球'
        : (tab==='assisters' ? '助攻'
        : (tab==='mvp' ? 'MVP'
        : '红牌'))}}
    </text>

    <!-- 次指标列 -->
    <text class="c num">
      {{tab==='scorers' ? '助攻'
        : (tab==='assisters' ? '进球'
        : (tab==='mvp' ? '进球'
        : '出场'))}}
    </text>
  </view>

  <!-- 射手榜 -->
  <block wx:if="{{tab==='scorers'}}">
    <block wx:for="{{scorers}}" wx:key="playerId">
      <view class="row">
        <text class="c rank">{{index+1}}</text>
        <text class="c name">{{item.playerName}}</text>
        <text class="c team">{{teamNameById[item.teamId] || item.teamId}}</text>
        <text class="c num">{{item.goals}}</text>
        <text class="c num">{{item.assists}}</text>
      </view>
    </block>
    <view wx:if="{{scorers.length===0}}" class="empty">No data yet.</view>
  </block>

  <!-- 助攻榜 -->
  <block wx:if="{{tab==='assisters'}}">
    <block wx:for="{{assisters}}" wx:key="playerId">
      <view class="row">
        <text class="c rank">{{index+1}}</text>
        <text class="c name">{{item.playerName}}</text>
        <text class="c team">{{teamNameById[item.teamId] || item.teamId}}</text>
        <text class="c num">{{item.assists}}</text>
        <text class="c num">{{item.goals}}</text>
      </view>
    </block>
    <view wx:if="{{assisters.length===0}}" class="empty">No data yet.</view>
  </block>

  <!-- MVP榜 -->
  <block wx:if="{{tab==='mvp'}}">
    <block wx:for="{{mvpBoard}}" wx:key="playerId">
      <view class="row">
        <text class="c rank">{{index+1}}</text>
        <text class="c name">{{item.playerName}}</text>
        <text class="c team">{{teamNameById[item.teamId] || item.teamId}}</text>
        <text class="c num">{{item.MVP}}</text>
        <text class="c num">{{item.goals}}</text>
      </view>
    </block>
    <view wx:if="{{mvpBoard.length===0}}" class="empty">No data yet.</view>
  </block>

  <!-- 红牌榜 -->
  <block wx:if="{{tab==='red'}}">
    <block wx:for="{{redBoard}}" wx:key="playerId">
      <view class="row">
        <text class="c rank">{{index+1}}</text>
        <text class="c name">{{item.playerName}}</text>
        <text class="c team">{{teamNameById[item.teamId] || item.teamId}}</text>
        <text class="c num">{{item.red}}</text>
        <text class="c num">{{item.apps}}</text>
      </view>
    </block>
    <view wx:if="{{redBoard.length===0}}" class="empty">No data yet.</view>
  </block>
</view>